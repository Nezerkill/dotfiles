# -----------------------------------------------------
# WINDOW RULES
# -----------------------------------------------------

# Синтаксис: windowrulev2 = правило, условие

# --- Telegram Desktop ---
# 1. Легкая прозрачность (0.95 активное окно, 0.85 неактивное) для красоты
windowrulev2 = opacity 0.95 0.85, class:^(org.telegram.desktop)$
windowrulev2 = opacity 0.95 0.85, class:^(telegram-desktop)$

# 2. Окно просмотра медиа (фото/видео) должно плавать, а не растягиваться
windowrulev2 = float, class:^(org.telegram.desktop), title:^(Media viewer)$
windowrulev2 = center, class:^(org.telegram.desktop), title:^(Media viewer)$
windowrulev2 = size 80% 80%, class:^(org.telegram.desktop), title:^(Media viewer)$

# --- Nautilus (Файловый менеджер) ---
# 1. Тоже немного прозрачности
windowrulev2 = opacity 0.95 0.9, class:^(org.gnome.Nautilus)$

# 2. Окна прогресса операций (копирование/перемещение) должны плавать
windowrulev2 = float, class:^(org.gnome.Nautilus), title:^(Progress)$

# 3. (Опционально) Если хотите, чтобы сам Nautilus всегда открывался как плавающее окно:
# windowrulev2 = float, class:^(org.gnome.Nautilus)$
# windowrulev2 = size 60% 50%, class:^(org.gnome.Nautilus)$
# windowrulev2 = center, class:^(org.gnome.Nautilus)$

# --- Общие правила для системных диалогов ---
# Чтобы окна "Открыть файл", "Сохранить как" не растягивались на весь экран
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Select a File)$
windowrulev2 = float, title:^(Save As)$
windowrulev2 = float, title:^(Open Folder)$
windowrulev2 = center, title:^(Open File)$
windowrulev2 = size 60% 60%, title:^(Open File)$

# --- Картинка в картинке (Picture-in-Picture) ---
# Для Firefox/Chrome
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = move 100%-w-20 100%-h-20, title:^(Picture-in-Picture)$

# -----------------------------------------------------
# WAYBAR MENUS (Floating)
# Ловим все окна с классом 'floating_waybar' (который мы только что прописали)
windowrulev2 = float, class:^(floating_waybar)$
windowrulev2 = center, class:^(floating_waybar)$
windowrulev2 = size 50% 50%, class:^(floating_waybar)$
windowrulev2 = animation slide, class:^(floating_waybar)$ # Красивая анимация появления
windowrulev2 = dimaround, class:^(floating_waybar)$      # Затемнение фона вокруг
# Специальный размер для обновлений (можно сделать пошире)
windowrulev2 = size 60% 70%, title:^(System Updates)$

windowrulev2 = float, class:^(floatmpv)$
windowrulev2 = pin, class:^(floatmpv)$
windowrulev2 = size 60% 60%, class:^(floatmpv)$

# Делаем все плавающие окна (включая меню) непрозрачными
windowrulev2 = opacity 1.0 override 1.0 override, floating:1

# Специфические фиксы для XWayland меню (Steam, Discord и т.д.)
windowrulev2 = noblur, floating:1
windowrulev2 = noanim, floating:1

# Делаем безымянные окна (меню) плавающими, непрозрачными и без блюра
windowrulev2 = float, class:^$,title:^$
windowrulev2 = noblur, class:^$,title:^$
windowrulev2 = noanim, class:^$,title:^$
windowrulev2 = opaque, class:^$,title:^$
