# -----------------------------------------------------
# WINDOW RULES (Актуальный синтаксис Hyprland 0.53.3+)
# -----------------------------------------------------

# ПРАВИЛА:
# 1. Используем только windowrule (windowrulev2 удален).
# 2. Условия (Props) пишутся через match: ПРЕФИКС ЗНАЧЕНИЕ.
# 3. Эффекты (Effects) пишутся через ПРАВИЛО ЗНАЧЕНИЕ (например, float 1).
# 4. ВАЖНО: для плавающих окон теперь используется match:float 1 (а не floating).

# --- Telegram Desktop ---
windowrule = match:class ^(org.telegram.desktop)$, opacity 0.95 0.85
windowrule = match:class ^(telegram-desktop)$, opacity 0.95 0.85

# Для Media Viewer
windowrule = match:class ^(org.telegram.desktop)$, match:title ^(Media viewer)$, float 1
windowrule = match:class ^(org.telegram.desktop)$, match:title ^(Media viewer)$, center 1
windowrule = match:class ^(org.telegram.desktop)$, match:title ^(Media viewer)$, size 80% 80%

# --- Nautilus ---
windowrule = match:class ^(org.gnome.Nautilus)$, opacity 0.95 0.9
windowrule = match:class ^(org.gnome.Nautilus)$, match:title ^(Progress)$, float 1

# --- Системные диалоги ---
windowrule = match:title ^(Open File)$, float 1
windowrule = match:title ^(Select a File)$, float 1
windowrule = match:title ^(Save As)$, float 1
windowrule = match:title ^(Open Folder)$, float 1
windowrule = match:title ^(Open File)$, center 1
windowrule = match:title ^(Open File)$, size 60% 60%

# --- Picture-in-Picture ---
windowrule = match:title ^(Picture-in-Picture)$, float 1
windowrule = match:title ^(Picture-in-Picture)$, pin 1
windowrule = match:title ^(Picture-in-Picture)$, move 100%-w-20 100%-h-20

# --- Waybar Menus ---
windowrule = match:class ^(floating_waybar)$, float 1
windowrule = match:class ^(floating_waybar)$, center 1
windowrule = match:class ^(floating_waybar)$, size 50% 50%
windowrule = match:class ^(floating_waybar)$, animation slide
windowrule = match:class ^(floating_waybar)$, dim_around 1
windowrule = match:title ^(System Updates)$, size 60% 70%

windowrule = match:class ^(floatmpv)$, float 1
windowrule = match:class ^(floatmpv)$, pin 1
windowrule = match:class ^(floatmpv)$, size 60% 60%

# --- Плавающие окна (ИСПРАВЛЕНО: match:float 1) ---
windowrule = match:float 1, opacity 1.0 override 1.0 override
windowrule = match:float 1, no_blur 1
windowrule = match:float 1, no_anim 1

# Безымянные окна
windowrule = match:class ^$, match:title ^$, float 1
windowrule = match:class ^$, match:title ^$, no_blur 1
windowrule = match:class ^$, match:title ^$, no_anim 1
windowrule = match:class ^$, match:title ^$, opaque 1
